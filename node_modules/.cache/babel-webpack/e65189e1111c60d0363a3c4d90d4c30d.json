{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../products.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction ProductsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵlistener(\"scroll\", function ProductsComponent_div_3_Template_div_scroll_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.scrollHandler($event);\n    });\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementStart(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵelementStart(10, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_3_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.addToCart();\n    });\n    i0.ɵɵtext(11, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.description);\n  }\n}\n\nexport let ProductsComponent = /*#__PURE__*/(() => {\n  class ProductsComponent {\n    constructor(proService, router) {\n      this.proService = proService;\n      this.router = router;\n      this.limit = 0;\n      this.oldPageOffset = 0;\n    }\n\n    ngOnInit() {\n      setTimeout(() => {\n        this.proService.getProducts().subscribe(data => {\n          this.productData = Object.assign({}, data);\n          this.itemData = this.productData.data;\n        });\n      }, 1000);\n    }\n\n    addToCart() {\n      this.router.navigate(['cart']);\n    }\n\n    scrollHandler(event) {\n      this.limit += 1;\n\n      if (window.pageYOffset == 0) {\n        this.limit = 0;\n      }\n\n      if (this.limit > 20) {\n        this.limit = 20;\n      }\n    }\n\n  }\n\n  ProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n    return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductsComponent,\n    selectors: [[\"app-products\"]],\n    hostBindings: function ProductsComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function ProductsComponent_scroll_HostBindingHandler($event) {\n          return ctx.scrollHandler($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 4,\n    vars: 1,\n    consts: [[1, \"container\"], [1, \"header\"], [3, \"scroll\", 4, \"ngFor\", \"ngForOf\"], [3, \"scroll\"], [1, \"card\"], [\"alt\", \"Denim Jeans\", 2, \"width\", \"50%\", 3, \"src\"], [1, \"price\"], [3, \"click\"]],\n    template: function ProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2, \" FakeStore \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ProductsComponent_div_3_Template, 12, 4, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.itemData);\n      }\n    },\n    directives: [i3.NgForOf],\n    styles: [\".header[_ngcontent-%COMP%]{width:300px;margin-left:38.3%;position:fixed;margin-top:-10px;background-color:#000;color:#fff;height:40px}.card[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{text-align:center;font-family:arial}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 #0003;max-width:300px;margin:10px auto auto}.price[_ngcontent-%COMP%]{color:grey;font-size:22px}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:0;padding:12px;color:#fff;background-color:#000;text-align:center;cursor:pointer;width:100%;font-size:18px}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.7}\"]\n  });\n  return ProductsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}